/* src/styles/toast.css */

.toast-viewport {
  position: fixed;

  /* 
    Dynamic Positioning Contract:
    Floats above the footer (if present) + standard spacing.
    Moved to BOTTOM RIGHT as requested.
  */
  bottom: calc(var(--footer-height, 0px) + var(--spacing-4));
  right: var(--spacing-4);
  left: auto;

  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: var(--spacing-3);

  margin: 0;
  padding: 0;
  list-style: none;
  z-index: var(--z-max);
  outline: none;

  /* Clicks should pass through the viewport to the content underneath. */
  pointer-events: none;
}

.toast-root {
  /* Re-enable pointer events for the toast itself. */
  pointer-events: auto;

  /* Metrics Spec */
  min-width: 320px;
  max-width: 440px;
  padding: var(--spacing-3);
  border-radius: var(--radius-lg);
  gap: var(--spacing-3);

  display: flex;
  align-items: center;
  /* Centered vertically at all times */

  /* Typography */
  font-family: var(--font-family-sans);

  /* Depth */
  box-shadow: var(--surface-shadow-xl);

  /* Interaction */
  user-select: none;
}

.toast-icon {
  font-size: var(--icon-size-lg);
  /* 24px icon */
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--surface-fg-on-solid);
}

.toast-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-1);
  /* 4px gap between title and body */
  flex-grow: 1;
  color: var(--surface-fg-on-solid);
}

.toast-title {
  font-size: var(--font-size-sm);
  /* Small (14px) */
  font-weight: 600;
  /* Semi-bold */
  line-height: var(--line-height-tight);
}

.toast-description {
  white-space: pre-line;
  margin: 0;
  font-size: var(--font-size-sm);
  /* Small (14px) */
  font-weight: 400;
  /* Regular */
  line-height: var(--line-height-normal);
}

/* --- Action Link --- */

.toast-action {
  all: unset;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  font-size: var(--font-size-sm);
  font-weight: 600;
  cursor: pointer;

  color: var(--surface-fg-on-solid);
  text-decoration: underline;
  text-underline-offset: 4px;

  transition: opacity 0.2s;

  margin-left: var(--spacing-4);
  margin-right: var(--spacing-2);
  white-space: nowrap;
}

.toast-action:hover {
  opacity: 0.8;
}

.toast-action:active {
  transform: translateY(1px);
}

/* --- Close Button --- */

.toast-close-button {
  /* Dimensions & Variant handled by .btn data-size="lg" in TSX */
  color: var(--surface-fg-on-solid) !important;
  opacity: 1 !important;
}

.toast-close-button .material-symbols-rounded {
  font-size: var(--icon-size-lg) !important;
  /* 24px icon */
}

/* --- Semantic Variants - SOLID --- */

/* Info (Default) - Keep subtle but accessible */
.toast-root[data-variant='info'] {
  background-color: var(--surface-bg-info-solid);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

/* Success */
.toast-root[data-variant='success'] {
  background-color: var(--surface-bg-success-solid);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

/* Alert / Error */
.toast-root[data-variant='alert'] {
  background-color: var(--surface-bg-error-solid);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

/* Warning */
.toast-root[data-variant='warning'] {
  background-color: var(--surface-bg-warning-solid);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

/* Radix Swipe Transformations */
.toast-root[data-swipe='move'] {
  transform: translateX(var(--radix-toast-swipe-move-x));
}

.toast-root[data-swipe='cancel'] {
  transform: translateX(0);
  transition: transform 200ms ease-out;
}

.toast-root[data-swipe='end'] {
  animation: fadeOut 100ms ease-out forwards;
}